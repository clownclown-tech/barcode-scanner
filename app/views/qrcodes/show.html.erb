
    <%# <div style="animation: myAnim 2s ease 0s 1 normal forwards;" id="qrcode"><%= raw @qrcode.as_html %>

<input type="text" id="barcodeValue" placeholder="Enter barcode value">
<button class="btn btn-secondary" onclick="generateBarcode()">Generate Barcode</button>
<div id="barcode"></div>

<br>

<input type="text" id="qrCodeValue" placeholder="Enter QR code value">
<button class="btn btn-secondary" onclick="generateQRCode()">Generate QR Code</button>
<div id="qrcode"></div>

<br>
<div class="d-flex justify-content-evenly">
  <button class="btn btn-dark" id="print">print</button>
  <button class="btn btn-success" onclick="saveQRCodeToLocalStorage()">save to List</button>
</div>



<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"></script>
<script>
  function generateBarcode() {
    const barcodeValue = document.getElementById('barcodeValue').value;
    const barcodeDiv = document.getElementById('barcode');

    // Clear the previous barcode, if any
    barcodeDiv.innerHTML = '';

    // Create a new canvas element to render the barcode
    const canvas = document.createElement('canvas');
    JsBarcode(canvas, barcodeValue, {
      format: 'CODE128',
      displayValue: true,
      fontSize: 14,
      width: 2,
      height: 100
    });

    // Append the canvas to the barcode div
    barcodeDiv.appendChild(canvas);
  }

  function saveQRCodeToLocalStorage() {
    const qrcodeDiv = document.getElementById('qrcode');

    // Get the canvas element containing the QR code
    const qrCodeCanvas = qrcodeDiv.querySelector('canvas');

    // Get the data URL of the QR code image
    const dataURL = qrCodeCanvas.toDataURL();

    // Save the data URL to local storage
    localStorage.setItem('qrcode', dataURL);

    alert('QR code saved to local storage!');
  }
</script>





<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
<script>
  function generateQRCode() {
    const qrCodeValue = document.getElementById('qrCodeValue').value;
    const qrcodeDiv = document.getElementById('qrcode');

    // Clear the previous QR code, if any
    qrcodeDiv.innerHTML = '';

    // Create a new QR code instance
    const qrcode = new QRCode(qrcodeDiv, {
      text: qrCodeValue,
      width: 128,
      height: 128,
    });
  }
</script>






<script>
let printButton = document.getElementById("print");

const print = () => {
  const printFrame = document.createElement("iframe");
  printFrame.style.display = "none";
  // printFrame.src = "/boxes/1/qrcode";
  window.print()

  document.body.appendChild(printFrame);

  printFrame.contentWindow.focus();
}

printButton.addEventListener("click", function(){
  print();
})


</script>

<style>
 @media print{
.navbar, .footer-navigation, .button, .button-print *{
  display: none;
  color:white;

}

 @page {
    margin-top: 0;
    margin-left: 0;
    padding: auto;
 }

   html, body, #qrcode {
        background: #FFF;
        size: auto;  margin: 0mm;
        display: table;
        table-layout: fixed;
    }

}

</style>

<style>
@keyframes myAnim {
	0% {
		animation-timing-function: ease-out;
		transform: scale(1);
		transform-origin: center center;
	}

	10% {
		animation-timing-function: ease-in;
		transform: scale(0.91);
	}

	17% {
		animation-timing-function: ease-out;
		transform: scale(0.98);
	}

	33% {
		animation-timing-function: ease-in;
		transform: scale(0.87);
	}

	45% {
		animation-timing-function: ease-out;
		transform: scale(1);
	}
}
</style>
